entry:
  post:
    summary: 'Fix resident entry in his dormitory'
    operationId: entry
    tags:
      - Guard
    parameters:
      - name: login
        in: query
        required: true
        schema:
          type: string
    responses:
      200:
        description: 'Entry was fixed successfully'
      400:
        description: 'Invalid event (last for this resident was the same)'
      401:
        description: 'Unauthorized'
      403:
        description: 'No rights'
      404:
        description: 'Resident not found by login'

exit:
  post:
    summary: 'Fix resident exit in his dormitory'
    operationId: exit
    tags:
      - Guard
    parameters:
      - name: login
        in: query
        required: true
        schema:
          type: string
    responses:
      200:
        description: 'Exit was fixed successfully'
      400:
        description: 'Invalid event (last for this resident was the same)'
      401:
        description: 'Unauthorized'
      403:
        description: 'No rights'
      404:
        description: 'Resident not found by login'

history:
  post:
    summary: 'Get entry and exit history for specific resident'
    operationId: getHistory
    tags:
      - Guard
    parameters:
      - name: login
        in: query
        required: true
        schema:
          type: string
    responses:
      200:
        description: 'List of events'
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../components/schemas/models.yaml#/GuardHistory'
      401:
        description: 'Unauthorized'
      403:
        description: 'No rights'
      404:
        description: 'Resident not found by login'

history/self:
  post:
    summary: 'Get entry and exit history for current user'
    operationId: getSelfHistory
    tags:
      - Guard
    responses:
      200:
        description: 'List of events'
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../components/schemas/models.yaml#/GuardHistory'
      401:
        description: 'Unauthorized'
      403:
        description: 'No rights'