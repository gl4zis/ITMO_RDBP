UserResponse:
  type: object
  required:
    - login
    - name
    - surname
    - role
  properties:
    login:
      type: string
    name:
      type: string
    surname:
      type: string
    role:
      $ref: './models.yaml#/UserRole'

ResidentResponse:
  allOf:
    - $ref: '#/UserResponse'
    - type: object
      required:
        - university
        - dormitory
        - roomNumber
        - debt
      properties:
        university:
          $ref: '#/UniversityResponse'
        dormitory:
          $ref: '#/DormitoryResponse'
        roomNumber:
          type: integer
        debt:
          type: integer
        lastCameOut:
          type: string
          format: date-time

ToEvictionResidentResponse:
  type: object
  required:
    - resident
    - reason
  properties:
    resident:
      $ref: '#/UserResponse'
    reason:
      $ref: './models.yaml#/EvictionReason'

ProfileResponse:
  allOf:
    - $ref: '#/UserResponse'
    - type: object
      properties:
        university:
          type: string
        dormitory:
          type: string
        roomNumber:
          type: integer

DormitoryResponse:
  type: object
  required:
    - id
    - address
    - universityIds
    - residentNumber
  properties:
    id:
      type: integer
    address:
      type: string
    universityIds:
      type: array
      items:
        type: integer
    residentNumber:
      type: integer

NotificationResponse:
  type: object
  required:
    - id
    - bidId
    - text
  properties:
    id:
      type: integer
      format: int64
    bidId:
      type: integer
      format: int64
    text:
      type: string

PaymentHistoryRecord:
  type: object
  required:
    - timestamp
    - dormitory
    - roomNumber
    - sum
  properties:
    timestamp:
      type: string
      format: date-time
    dormitory:
      type: string
    roomNumber:
      type: integer
    sum:
      type: integer

PaymentResponse:
  type: object
  required:
    - debt
    - roomCost
    - lastPaymentTime
    - history
  properties:
    debt:
      type: integer
    roomCost:
      type: integer
    lastPaymentTime:
      type: string
      format: date-time
    history:
      type: array
      items:
        $ref: '#/PaymentHistoryRecord'

RoomResponse:
  allOf:
    - $ref: './models.yaml#/Room'
    - type: object
      required:
        - id
        - residents
      properties:
        id:
          type: integer
        residents:
          type: array
          items:
            $ref: '#/UserResponse'

UniversityResponse:
  allOf:
    - $ref: './models.yaml#/University'
    - type: object
      required:
        - id
        - dormitoryIds
      properties:
        id:
          type: integer
        dormitoryIds:
          type: array
          items:
            type: integer